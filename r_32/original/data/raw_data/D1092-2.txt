Adapted from both Waters' 1988 script and Thomas Meehan and Mark O'Donnell's book for the stage musical by screenwriter Leslie Dixon , the 2007 film version of Hairspray is directed and choreographed by Adam Shankman .