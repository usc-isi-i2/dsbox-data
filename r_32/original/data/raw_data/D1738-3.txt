The Louisiana territory encompassed all or part of 15 present U.S. states and two Canadian provinces .