In 1947, she married Prince Philip, Duke of Edinburgh , with whom she has four children: Charles , Anne , Andrew , and Edward .