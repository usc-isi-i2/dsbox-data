After a labour dispute that led to the cancellation of the entire 2004â€“05 season , the league resumed play under a new collective bargaining agreement that included a salary cap .