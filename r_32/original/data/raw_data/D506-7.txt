They viewed the conflict as a colonial war , fought initially against France, backed by the U.S., and later against South Vietnam, which it regarded as a U.S. puppet state .