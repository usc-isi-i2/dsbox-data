The Vietnamese became independent from Imperial China in 938 AD, following the Battle of Bạch Đằng River .