HVAC system design is a subdiscipline of mechanical engineering , based on the principles of thermodynamics , fluid mechanics , and heat transfer .