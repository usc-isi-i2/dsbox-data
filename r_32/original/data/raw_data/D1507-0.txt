When Harry Met Sally... is a 1989 American romantic comedy film written by Nora Ephron and directed by Rob Reiner .