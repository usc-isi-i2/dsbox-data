Coral reefs , whose polyps are rich in endosymbiotic algae, support some of the world's most productive ecosystems , and protect vegetation in tidal zones and on shorelines from strong currents and tides.