Mecca was long ruled by Muhammad's descendants, the sharifs , either as independent rulers or as vassals to larger empires.