Born the illegitimate son of a wealthy farmer, Castro adopted leftist anti-imperialist politics while studying law at the University of Havana .